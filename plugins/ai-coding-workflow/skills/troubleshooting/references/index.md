---
title: "è¸©å‘æ¡ˆä¾‹ç´¢å¼•"
id: "pitfalls-index"
category: "appendix"
ai_usage:
  - "æŸ¥è©¢å·²çŸ¥å•é¡Œ"
  - "é¿å…é‡è¤‡è¸©å‘"
  - "å•é¡Œæ’æŸ¥åƒè€ƒ"
version: "1.0.0"
last_updated: "2026-01-27"
---

# è¸©å‘æ¡ˆä¾‹ç´¢å¼•

## æ¦‚è¿°

æœ¬ç´¢å¼•æ”¶éŒ„åœ˜éšŠåœ¨é–‹ç™¼éç¨‹ä¸­é‡åˆ°çš„é‡è¦è¸©å‘æ¡ˆä¾‹ï¼Œå¹«åŠ©é¿å…é‡è¤‡çŠ¯éŒ¯ã€‚

## å¿«é€ŸæŸ¥è©¢

| é—œéµå­— | æ¡ˆä¾‹ | åš´é‡åº¦ |
|--------|------|--------|
| CI/CD, pnpm, Cloudflare | [Case 01: CI/CD é…ç½®å•é¡Œ](./case-01-cicd-configuration.md) | ğŸ”´ é«˜ |
| Astro, ç’°å¢ƒè®Šæ•¸, production | [Case 02: Astro 5 ç’°å¢ƒè®Šæ•¸](./case-02-astro5-env-variables.md) | ğŸŸ¡ ä¸­ |
| Vercel, API, 404 | [Case 03: Vercel API 404](./case-03-vercel-api-404.md) | ğŸŸ¡ ä¸­ |

## æŒ‰é¡å‹åˆ†é¡

### éƒ¨ç½²ç›¸é—œ

| æ¡ˆä¾‹ | å¹³å° | å•é¡Œæè¿° |
|------|------|----------|
| [Case 01](./case-01-cicd-configuration.md) | Cloudflare Pages | pnpm ç‰ˆæœ¬è¡çªã€å°ˆæ¡ˆåç¨± |
| [Case 03](./case-03-vercel-api-404.md) | Vercel | API Route 404 ç„¡æ³•é™¤éŒ¯ |

### æ¡†æ¶ç›¸é—œ

| æ¡ˆä¾‹ | æ¡†æ¶ | å•é¡Œæè¿° |
|------|------|----------|
| [Case 02](./case-02-astro5-env-variables.md) | Astro 5 | ç’°å¢ƒè®Šæ•¸åœ¨ production å¤±æ•ˆ |

### é–‹ç™¼ç’°å¢ƒç›¸é—œ

ï¼ˆå¾…æ–°å¢ï¼‰

## æ¡ˆä¾‹åˆ—è¡¨

### Case 01: CI/CD é…ç½®å•é¡Œ

**å•é¡Œ**ï¼šCloudflare Pages éƒ¨ç½²å¤±æ•—
**é—œéµå­—**ï¼špnpm, CI/CD, Cloudflare Pages, å°ˆæ¡ˆåç¨±
**åš´é‡åº¦**ï¼šğŸ”´ é«˜

**ç—‡ç‹€**ï¼š
- pnpm install å¤±æ•—
- æ‰¾ä¸åˆ°å°ˆæ¡ˆ

**æ ¹å› **ï¼š
- pnpm ç‰ˆæœ¬ä¸åŒ¹é…
- å°ˆæ¡ˆåç¨±åŒ…å«ç‰¹æ®Šå­—å…ƒ

[æŸ¥çœ‹å®Œæ•´æ¡ˆä¾‹ â†’](./case-01-cicd-configuration.md)

---

### Case 02: Astro 5 ç’°å¢ƒè®Šæ•¸

**å•é¡Œ**ï¼šç’°å¢ƒè®Šæ•¸åœ¨ production build ä¸­å¤±æ•ˆ
**é—œéµå­—**ï¼šAstro, ç’°å¢ƒè®Šæ•¸, import.meta.env
**åš´é‡åº¦**ï¼šğŸŸ¡ ä¸­

**ç—‡ç‹€**ï¼š
- æœ¬åœ°é–‹ç™¼æ­£å¸¸
- Production ç’°å¢ƒè®Šæ•¸ç‚º undefined

**æ ¹å› **ï¼š
- Astro 5 çš„ç’°å¢ƒè®Šæ•¸è™•ç†æ–¹å¼è®Šæ›´

[æŸ¥çœ‹å®Œæ•´æ¡ˆä¾‹ â†’](./case-02-astro5-env-variables.md)

---

### Case 03: Vercel API 404

**å•é¡Œ**ï¼šAPI Route è¿”å› 404
**é—œéµå­—**ï¼šVercel, Next.js, API Route, 404
**åš´é‡åº¦**ï¼šğŸŸ¡ ä¸­

**ç—‡ç‹€**ï¼š
- API è·¯ç”±æœ¬åœ°æ­£å¸¸
- éƒ¨ç½²å¾Œè¿”å› 404

**æ ¹å› **ï¼š
- vercel.json é…ç½®å•é¡Œ
- è·¯ç”±å„ªå…ˆç´šè¡çª

[æŸ¥çœ‹å®Œæ•´æ¡ˆä¾‹ â†’](./case-03-vercel-api-404.md)

---

## å¦‚ä½•æ–°å¢æ¡ˆä¾‹

ç•¶é‡åˆ°å€¼å¾—è¨˜éŒ„çš„å•é¡Œæ™‚ï¼š

1. åœ¨ `pitfalls/` ç›®éŒ„æ–°å¢æª”æ¡ˆï¼š`case-XX-[æè¿°].md`
2. ä½¿ç”¨ä»¥ä¸‹æ¨¡æ¿ï¼š

```markdown
---
title: "Case XX: [å•é¡Œæ¨™é¡Œ]"
id: "pitfall-case-XX"
keywords: ["é—œéµå­—1", "é—œéµå­—2"]
severity: "high|medium|low"
last_updated: "YYYY-MM-DD"
---

# Case XX: [å•é¡Œæ¨™é¡Œ]

## å•é¡Œæè¿°

[æ¸…æ¥šæè¿°é‡åˆ°çš„å•é¡Œ]

## ç—‡ç‹€

- ç—‡ç‹€ 1
- ç—‡ç‹€ 2

## ç’°å¢ƒ

- æ¡†æ¶ï¼š
- ç‰ˆæœ¬ï¼š
- å¹³å°ï¼š

## æ ¹å› åˆ†æ

[èªªæ˜å•é¡Œçš„æ ¹æœ¬åŸå› ]

## è§£æ±ºæ–¹æ¡ˆ

[æä¾›å…·é«”çš„è§£æ±ºæ­¥é©Ÿ]

## å­¸ç¿’é‡é»

- é‡é» 1
- é‡é» 2

## é é˜²æªæ–½

- [ ] æª¢æŸ¥é …ç›® 1
- [ ] æª¢æŸ¥é …ç›® 2
```

3. æ›´æ–°æœ¬ç´¢å¼•æ–‡ä»¶

## ç›¸é—œæ–‡ä»¶

- [Bug ä¿®å¾©æµç¨‹](../02-development/shared/prompts/bug-fixing.md)
- [æˆåŠŸæ¡ˆä¾‹ç´¢å¼•](../appendix/success-cases/index.md)
