---
title: "任務拆解方法"
id: "task-decomposition"
category: "planning"
ai_usage:
  - "將大型任務拆解為可執行的小任務"
  - "識別任務之間的依賴關係"
  - "估算任務規模和優先級"
version: "1.0.0"
last_updated: "2026-01-23"
---

# 任務拆解方法

## 概述

任務拆解是將大型、複雜的任務分解為小型、可獨立完成的工作單元。好的任務拆解能讓開發更有條理，進度更可控。

## 為什麼要拆解任務？

### 1. 降低複雜度

```
大任務（難以開始）──► 小任務（容易執行）
```

### 2. 便於追蹤進度

```
完成 3/10 個任務 = 30% 進度
```

### 3. 減少風險

- 小任務更容易測試
- 錯誤影響範圍更小
- 可以更早發現問題

## 拆解原則

### INVEST 原則

好的任務應該符合 INVEST 原則：

| 原則 | 說明 | 範例 |
|------|------|------|
| **I**ndependent | 獨立，不過度依賴其他任務 | ✅ 「建立 Button 元件」 |
| **N**egotiable | 可協商，保留實作彈性 | ✅ 「實作搜尋功能」而非「用 Elasticsearch 實作搜尋」 |
| **V**aluable | 有價值，完成後有可見成果 | ✅ 「用戶可以登入」 |
| **E**stimable | 可估算，能預估工作量 | ✅ 「建立登入表單」而非「處理認證」 |
| **S**mall | 小型，可在合理時間內完成 | ✅ 「建立密碼輸入框」而非「建立完整表單系統」 |
| **T**estable | 可測試，有明確的完成標準 | ✅ 「輸入錯誤密碼時顯示錯誤訊息」 |

### 拆解粒度

| 任務大小 | 說明 | 適用場景 |
|----------|------|----------|
| 小 (S) | 1-2 個檔案變更 | 簡單功能、Bug 修復 |
| 中 (M) | 3-5 個檔案變更 | 一般功能 |
| 大 (L) | 6+ 個檔案變更 | 複雜功能，應再拆解 |

**經驗法則**：如果任務描述超過一句話，可能需要再拆解。

## 拆解流程

### Step 1：識別主要功能

列出要完成的主要功能模組。

```markdown
## 主要功能
1. 用戶認證
2. 商品列表
3. 購物車
4. 結帳流程
```

### Step 2：按層級拆解

將每個功能按前端/後端/資料庫拆解。

```markdown
## 用戶認證
### 前端
- 登入頁面
- 註冊頁面
- 忘記密碼頁面

### 後端
- 登入 API
- 註冊 API
- 密碼重設 API

### 資料庫
- User 資料表
- Session 資料表
```

### Step 3：識別依賴關係

標記任務之間的依賴。

```markdown
## 依賴關係
1. [獨立] 建立 User 資料表
2. [依賴 1] 建立註冊 API
3. [依賴 2] 建立註冊頁面
4. [依賴 1] 建立登入 API
5. [依賴 4] 建立登入頁面
```

### Step 4：排定優先級

根據依賴關係和重要性排序。

```markdown
## 執行順序
1. 建立 User 資料表 (P0)
2. 建立註冊 API (P0)
3. 建立登入 API (P0)
4. 建立註冊頁面 (P1)
5. 建立登入頁面 (P1)
6. 建立忘記密碼功能 (P2)
```

## 拆解範例

### 範例：建立部落格系統

**原始需求**：建立一個部落格系統，用戶可以發文、編輯、刪除文章。

**拆解結果**：

```markdown
## 資料層
1. [ ] 建立 Post 資料模型
   - 欄位：id, title, content, author_id, created_at, updated_at
   - 預估：S

2. [ ] 建立 Migration 檔案
   - 預估：S

## API 層
3. [ ] 實作 GET /api/posts（列表）
   - 支援分頁
   - 預估：S
   - 依賴：1

4. [ ] 實作 GET /api/posts/:id（單篇）
   - 預估：S
   - 依賴：1

5. [ ] 實作 POST /api/posts（新增）
   - 驗證：標題必填、內容必填
   - 預估：M
   - 依賴：1

6. [ ] 實作 PUT /api/posts/:id（編輯）
   - 權限：只有作者可編輯
   - 預估：M
   - 依賴：1

7. [ ] 實作 DELETE /api/posts/:id（刪除）
   - 權限：只有作者可刪除
   - 預估：S
   - 依賴：1

## 前端
8. [ ] 建立文章列表頁面
   - 顯示標題、摘要、日期
   - 分頁功能
   - 預估：M
   - 依賴：3

9. [ ] 建立文章詳情頁面
   - 顯示完整內容
   - 編輯/刪除按鈕（作者限定）
   - 預估：M
   - 依賴：4

10. [ ] 建立文章編輯器
    - 標題輸入
    - 內容編輯（Markdown 或 Rich Text）
    - 儲存/取消按鈕
    - 預估：L
    - 依賴：5, 6

## 執行順序
Phase 1: 1 → 2 → 3 → 4 → 8 → 9（可閱讀）
Phase 2: 5 → 6 → 7 → 10（可編輯）
```

---

## Prompts

### Prompt 1：拆解任務

```
你是一位資深軟體工程師。請將以下需求拆解為可執行的開發任務。

## 需求描述
${REQUIREMENT}

## 技術棧
${TECH_STACK}

## 要求

### 1. 任務列表
每個任務應包含：
- 任務描述（一句話）
- 預估大小（S/M/L）
- 依賴關係（如有）
- 驗收標準

### 2. 分層整理
按以下層級整理：
- 資料層（資料庫、模型）
- API 層（端點、服務）
- 前端（頁面、元件）
- 其他（部署、測試）

### 3. 執行順序
根據依賴關係排定執行順序。

### 4. 風險識別
標記可能有風險或不確定性的任務。
```

### Prompt 2：估算任務規模

```
你是一位資深軟體工程師。請評估以下任務的規模和複雜度。

## 任務
${TASK_DESCRIPTION}

## 專案上下文
${PROJECT_CONTEXT}

## 要求

### 1. 規模評估
- S（小）：1-2 個檔案，單純邏輯
- M（中）：3-5 個檔案，中等複雜度
- L（大）：6+ 個檔案，複雜邏輯

### 2. 複雜度因素
列出影響複雜度的因素：
- 技術難度
- 外部依賴
- 測試需求
- 不確定性

### 3. 建議
如果是 L 規模，建議如何進一步拆解。
```

### Prompt 3：識別依賴關係

```
你是一位資深軟體架構師。請分析以下任務清單的依賴關係。

## 任務清單
${TASK_LIST}

## 要求

### 1. 依賴圖
用簡單的文字圖表示依賴關係：
```
任務 A
  └─► 任務 B
      └─► 任務 C
任務 D（獨立）
```

### 2. 關鍵路徑
識別影響整體進度的關鍵任務。

### 3. 並行機會
標記可以同時進行的任務。

### 4. 風險點
標記高依賴性或高風險的任務。
```

---

## 檢查清單

### 拆解品質

- [ ] 每個任務都有明確的完成標準
- [ ] 任務大小適中（大部分是 S 或 M）
- [ ] 依賴關係清楚
- [ ] 沒有循環依賴
- [ ] 關鍵路徑已識別

### 可執行性

- [ ] 任務描述清晰，不需要額外解釋
- [ ] 技術可行，沒有未解決的技術問題
- [ ] 資源充足，有必要的權限和工具

### 完整性

- [ ] 涵蓋所有需求
- [ ] 包含測試任務
- [ ] 考慮了錯誤處理
- [ ] 考慮了邊界情況

---

## 常見問題

### Q1：任務太大怎麼辦？

**A1**：使用「縱向切片」而非「橫向切片」。

```
❌ 橫向切片（不好）
1. 建立所有資料模型
2. 建立所有 API
3. 建立所有前端頁面

✅ 縱向切片（好）
1. 完成「用戶註冊」功能（模型 + API + 頁面）
2. 完成「用戶登入」功能（模型 + API + 頁面）
3. 完成「發布文章」功能（模型 + API + 頁面）
```

### Q2：如何處理不確定的任務？

**A2**：加入「探索」任務：

```markdown
1. [探索] 調查 OAuth 整合方案
   - 輸出：技術選型建議
   - 預估：S

2. [依賴 1] 實作 OAuth 登入
   - 預估：待定（完成探索後更新）
```

### Q3：任務之間高度依賴怎麼辦？

**A3**：考慮使用 Mock 或 Stub：

```markdown
## 前端（可並行）
1. 建立登入頁面（使用 Mock API）

## 後端（可並行）
2. 建立登入 API

## 整合
3. 前後端整合（依賴 1, 2）
```

---

## 相關文件

- [規劃階段總覽](./overview.md)
- [需求分析](./requirement-analysis.md)
- [架構設計](./architecture-design.md)
- [驗證框架](../02-development/shared/validation-framework.md)
