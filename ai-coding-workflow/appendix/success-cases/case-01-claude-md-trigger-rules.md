---
title: "CLAUDE.md 強制讀取規則驗證成功"
id: "case-claude-md-trigger-rules"
category: "appendix"
type: "success-case"
version: "1.0.0"
last_updated: "2026-01-23"
---

# Case 01: CLAUDE.md 強制讀取規則驗證成功

## 案例資訊

- **時間**：2026-01-23
- **專案**：ai-workflow-design → ewill-web
- **類型**：成功案例
- **相關 Commits**：`00dbfd4` - fix: 強化 CLAUDE.md 觸發規則為強制指令

## 情境描述

在開發 AI Coding Workflow 工具時，需要讓 AI Agent 在特定任務類型時自動讀取對應的工作流程文件。初始設計使用描述性規則，但 AI 沒有執行預期行為。

## 問題與解決

### 問題：描述性規則無效

**原始寫法**（無效）：
```markdown
## 自動讀取規則

當任務符合以下情境時，請**先閱讀對應文件**再開始工作：

| 觸發關鍵字 | 閱讀文件 |
|------------|----------|
| 元件開發、Component | `ai-coding-workflow/.../component-development.md` |
```

**結果**：AI 沒有讀取文件，直接詢問用戶細節。

### 解決方案：改用強制指令

**修正寫法**（有效）：
```markdown
## 強制讀取規則

**重要**：當任務符合以下情境時，你**必須**先使用 Read 工具讀取對應文件，然後才能開始工作。這不是建議，是強制要求。

| 觸發條件 | 強制動作 |
|----------|----------|
| 用戶要求建立/開發 UI 元件 | `Read ai-coding-workflow/.../component-development.md` |
```

**結果**：AI 明確說「根據專案的強制讀取規則，我需要先讀取元件開發指南」，然後執行 Read 工具。

## 成功關鍵

| 因素 | 說明 |
|------|------|
| **強制語氣** | 「必須」比「請」更有效 |
| **明確工具** | 指定「使用 Read 工具」而不是「閱讀」 |
| **強調非建議** | 「這不是建議，是強制要求」 |
| **動作導向** | 「強制動作」欄位明確指出要執行什麼 |

## 可重用模式

### 模式：強制規則撰寫

當需要 AI 在特定條件下執行特定動作時：

1. **使用強制語氣**：「必須」「強制要求」
2. **指定工具**：明確說要用什麼工具（Read、Bash 等）
3. **給出完整路徑**：不要讓 AI 猜測文件位置
4. **加入執行流程**：列出 1-2-3 步驟

### 範例模板

```markdown
## 強制規則

**重要**：當 [觸發條件] 時，你**必須**先 [具體動作]。這不是建議，是強制要求。

| 觸發條件 | 強制動作 |
|----------|----------|
| [條件描述] | `[工具] [完整路徑]` |

### 執行流程
1. 收到請求
2. 檢查是否符合觸發條件
3. 如果符合 → 執行強制動作
4. 然後繼續處理請求
```

## 驗證記錄

### 測試 1（失敗）

**輸入**：「請幫我建立一個新的 UI 元件」

**預期**：AI 先讀取 component-development.md

**實際**：AI 直接詢問元件細節，沒有讀取文件

### 測試 2（成功）

**輸入**：「請幫我建立一個新的 UI 元件」

**預期**：AI 先讀取 component-development.md

**實際**：
```
根據專案的強制讀取規則，我需要先讀取元件開發指南。

Read(/Users/.../component-development.md)
⎿ Read 301 lines
```

## 相關資源

- 修正後的模板：`ai-coding-workflow/CLAUDE.template.md`
- 測試專案：ewill-web
