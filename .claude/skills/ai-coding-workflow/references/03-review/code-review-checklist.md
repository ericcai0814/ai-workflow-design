---
title: "程式碼審查檢查清單"
id: "code-review-checklist"
category: "review"
ai_usage:
  - "進行程式碼審查"
  - "PR Review"
  - "品質檢查"
version: "1.0.0"
last_updated: "2026-01-23"
---

# 程式碼審查檢查清單

## TL;DR

1. **功能正確性**：程式碼是否完成預期功能
2. **程式碼品質**：可讀性、可維護性、效能
3. **安全性**：無安全漏洞
4. **測試覆蓋**：有適當的測試

## 使用場景

- PR 審查前的自我檢查
- 審查他人的程式碼
- AI 輔助程式碼審查

---

## 通用檢查清單

### 功能正確性

- [ ] 程式碼完成 PR 描述中的功能
- [ ] 邊界條件已處理（null、undefined、空陣列）
- [ ] 錯誤情況有適當處理
- [ ] 不影響現有功能（無回歸）

### 程式碼品質

- [ ] 命名清晰、有意義
- [ ] 函式單一職責，不超過 50 行
- [ ] 沒有重複程式碼（DRY）
- [ ] 沒有硬編碼的值（Magic Numbers）
- [ ] 註解說明「為什麼」而非「做什麼」

### 效能

- [ ] 沒有 N+1 查詢
- [ ] 沒有不必要的迴圈
- [ ] 大量資料有分頁或虛擬化
- [ ] 沒有記憶體洩漏風險

### 安全性

- [ ] 沒有 SQL Injection 風險
- [ ] 沒有 XSS 風險
- [ ] 敏感資料沒有 log 或暴露
- [ ] 有適當的權限檢查

### 測試

- [ ] 有單元測試覆蓋主要邏輯
- [ ] 測試案例涵蓋正常和異常情況
- [ ] 測試可以獨立執行

---

## 前端專屬檢查清單

### 元件設計

- [ ] 元件單一職責
- [ ] Props 介面清晰、有型別
- [ ] 使用設計系統的 tokens
- [ ] 支援 dark mode（如適用）

### 可存取性 (A11y)

- [ ] 有適當的 ARIA 屬性
- [ ] 可用鍵盤操作
- [ ] 顏色對比度足夠
- [ ] 有 focus 狀態

### 效能

- [ ] 避免不必要的 re-render
- [ ] 使用 memo/useMemo/useCallback（適當時）
- [ ] 圖片有 lazy loading
- [ ] 沒有在 render 中建立新物件/函式

### 樣式

- [ ] 沒有硬編碼的顏色、間距
- [ ] 響應式設計正確
- [ ] 沒有 CSS 衝突

---

## 後端專屬檢查清單

### API 設計

- [ ] 遵循 RESTful 慣例
- [ ] 使用適當的 HTTP 狀態碼
- [ ] 有一致的回應格式
- [ ] 有輸入驗證

### 資料庫

- [ ] 查詢有使用索引
- [ ] 沒有 N+1 查詢
- [ ] Transaction 使用正確
- [ ] Migration 可回滾

### 錯誤處理

- [ ] 有統一的錯誤處理
- [ ] 錯誤訊息對用戶友善
- [ ] 敏感錯誤細節不暴露給用戶
- [ ] 有適當的 logging

### 安全性

- [ ] 認證/授權檢查完整
- [ ] 敏感資料加密
- [ ] Rate limiting（如適用）
- [ ] CORS 設定正確

---

## Prompts

### Prompt：AI 輔助程式碼審查

**任務目標**：請 AI 審查程式碼並提供回饋

**Prompt 範本**：

```prompt
你是一位資深軟體工程師。請審查以下程式碼。

## 程式碼
${CODE}

## 變更描述
${CHANGE_DESCRIPTION}

## 請檢查

### 1. 功能正確性
- 程式碼是否完成預期功能？
- 邊界條件是否處理？

### 2. 程式碼品質
- 命名是否清晰？
- 是否有重複程式碼？
- 函式是否過長？

### 3. 潛在問題
- 有沒有效能問題？
- 有沒有安全風險？

### 4. 改進建議
- 具體的改進建議（附程式碼）

## 輸出格式

### 總結
[一句話總結]

### 問題
| 嚴重度 | 位置 | 問題 | 建議 |
|--------|------|------|------|
| 高/中/低 | 行號 | 描述 | 修正方式 |

### 改進後的程式碼（如需要）
\`\`\`
[改進的程式碼]
\`\`\`
```

**執行後驗證**：
- [ ] 審查涵蓋功能、品質、安全
- [ ] 問題有明確的嚴重度
- [ ] 建議具體可執行

---

## 審查流程

```
1. 閱讀 PR 描述
   ↓
2. 理解變更範圍
   ↓
3. 依照檢查清單逐項檢查
   ↓
4. 記錄問題和建議
   ↓
5. 區分「必須修改」和「建議修改」
   ↓
6. 提供具體的改進建議
```

---

## 審查回饋原則

### DO

- ✅ 具體指出問題位置
- ✅ 解釋為什麼是問題
- ✅ 提供改進建議或範例
- ✅ 肯定好的設計

### DON'T

- ❌ 只說「這不好」沒有說為什麼
- ❌ 強推個人偏好
- ❌ 批評而非建議
- ❌ 忽略正面回饋

---

## 相關文件

- [元件開發](../02-development/frontend/component-development.md)
- [API 設計](../02-development/backend/api-design.md)
- [測試策略](../02-development/shared/testing.md)
